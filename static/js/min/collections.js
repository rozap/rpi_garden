define(["underscore","backbone"],function(e,t){var n=t.Collection.extend({pageSize:500,page:0,initialize:function(e,t){t.dispatcher.on("fetchNewData",this.autoUpdate.bind(this))},autoUpdate:function(){0===this.page&&this.fetch()},url:function(){return"/api/"+this.name},fetch:function(n){return n=e.extend({data:{offset:this.page*this.pageSize,count:this.pageSize}},n),t.Collection.prototype.fetch.call(this,n)},comparator:"time",next:function(){return this.page--,this.fetch()},prev:function(){return this.page++,this.fetch()},hasNext:function(){return this.page>0},hasPrev:function(){return this.length===this.pageSize}}),i=n.extend({name:"ph"}),a=n.extend({name:"temp"}),o=n.extend({name:"level"});return{PHCollection:i,TempCollection:a,LevelCollection:o}});